{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/franreysaycon/Repositories/maneko-next/src/component/CardCollection/index.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Box } from '@chakra-ui/react';\nimport { motion, useAnimation } from 'framer-motion';\nimport React, { useState } from 'react';\nimport Card from './Card';\nconst MotionBox = motion(Box);\n\nconst swipePower = (offset, absDistance) => {\n  return offset / absDistance * 100;\n};\n\nconst CardCollection = ({\n  cards\n}) => {\n  const controls = useAnimation();\n  const {\n    0: curIndex,\n    1: setCurIndex\n  } = useState(0);\n\n  const handleDragEnd = async (_, {\n    offset\n  }) => {\n    const power = swipePower(offset.x, 300);\n\n    if (power > 60 && curIndex - 1 !== -1) {\n      await controls.start({\n        x: -270 * (curIndex - 1)\n      });\n      setCurIndex(s => s - 1);\n    } else if (power < -60 && curIndex + 1 < cards.length) {\n      await controls.start({\n        x: -270 * (curIndex + 1)\n      });\n      setCurIndex(s => s + 1);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    d: \"flex\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      w: \"330px\",\n      h: \"170px\",\n      overflow: \"hidden\",\n      pos: \"relative\",\n      children: /*#__PURE__*/_jsxDEV(MotionBox, {\n        display: \"flex\",\n        position: \"relative\",\n        height: \"200px\",\n        drag: \"x\",\n        dragDirectionLock: true,\n        dragConstraints: {\n          left: 0,\n          right: 0\n        },\n        dragMomentum: false,\n        animate: controls,\n        transition: {\n          x: {\n            type: \"spring\",\n            stiffness: 600,\n            damping: 100\n          }\n        },\n        onDragEnd: handleDragEnd,\n        layout: true,\n        css: {\n          \">div\": {\n            marginRight: '15px'\n          },\n          \">div:last-child\": {\n            marginRight: '0px'\n          }\n        },\n        children: cards.map(card => /*#__PURE__*/_jsxDEV(Card, _objectSpread({}, card), card.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 34\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n\nCardCollection.defaultProps = {\n  cards: []\n};\nexport default CardCollection;","map":{"version":3,"sources":["/home/franreysaycon/Repositories/maneko-next/src/component/CardCollection/index.tsx"],"names":["Box","motion","useAnimation","React","useState","Card","MotionBox","swipePower","offset","absDistance","CardCollection","cards","controls","curIndex","setCurIndex","handleDragEnd","_","power","x","start","s","length","left","right","type","stiffness","damping","marginRight","map","card","id","defaultProps"],"mappings":"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","sourcesContent":["import { Box } from '@chakra-ui/react'\nimport { motion, useAnimation } from 'framer-motion'\nimport React, { useState } from 'react'\nimport Card from './Card'\nimport { CardT } from './types'\n\ninterface CardCollectionProps {\n  cards: CardT[];\n}\n\nconst MotionBox = motion(Box)\n\nconst swipePower = (offset: number, absDistance: number): number => {\n  return (offset / absDistance) * 100;\n}\n\nconst CardCollection: React.FC<CardCollectionProps> = ({ cards }) => {\n  const controls = useAnimation();\n  const [curIndex, setCurIndex] = useState<number>(0)\n\n  const handleDragEnd = async (_, { offset }) => {\n    const power = swipePower(offset.x, 300);\n    if (power > 60 && curIndex -1 !== -1) {\n      await controls.start({\n        x: -270*(curIndex-1),\n      })\n      setCurIndex(s => s - 1)\n    } else if (power < -60 && curIndex + 1 < cards.length) {\n      await controls.start({\n        x: -270*(curIndex+1),\n      })\n      setCurIndex(s => s + 1)\n    }\n  };\n\n  return (\n    <Box d=\"flex\">\n      <Box\n        w=\"330px\"\n        h=\"170px\"\n        overflow=\"hidden\"\n        pos=\"relative\"\n      >\n        <MotionBox\n          display=\"flex\"\n          position=\"relative\"\n          height=\"200px\"\n          drag=\"x\"\n          dragDirectionLock\n          dragConstraints={{ left: 0, right: 0 }}\n          dragMomentum={false}\n          animate={controls}\n          transition={{\n            x: { type: \"spring\", stiffness: 600, damping: 100},\n          }}\n          onDragEnd={handleDragEnd}\n          layout\n          css={{\n            \">div\": {\n              marginRight: '15px'\n            },\n            \">div:last-child\": {\n              marginRight: '0px'\n            }\n          }}\n        >\n            { cards.map( card => <Card key={card.id} {...card} /> )}\n        </MotionBox>\n      </Box>\n    </Box>\n  )\n}\n\nCardCollection.defaultProps = {\n  cards: []\n}\n\nexport default CardCollection\n"]},"metadata":{},"sourceType":"module"}